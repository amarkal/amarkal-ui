!function(a,b){var c;void 0===b.Amarkal?(c={},b.Amarkal=c):c=b.Amarkal,c.UI={components:{},registerComponent:function(a,b){c.UI.components.hasOwnProperty(a)?console.error("Attempting to register an existing component type '"+a+"'"):c.UI.components[a]=b},getComponentConfig:function(a){if(c.UI.components.hasOwnProperty(a))return c.UI.components[a];console.error("A component type '"+a+"' has not been registered")},component:function(b){var d=b.attr("class").match(/amarkal-ui-component-([a-z]+)/)[1],e=c.UI.getComponentConfig(d),f=a.extend({},e,{$el:b});for(var g in f)"function"==typeof f[g]&&(f[g]=f[g].bind(f));return f}},a.fn.extend({amarkalUIcomponent:function(){if(!this.hasClass(".amarkal-ui-component"))throw"This element is not an Amarkal UI component";return void 0===this.data("amarkal-ui-component")&&this.data("amarkal-ui-component",c.UI.component(this)),this.data("amarkal-ui-component")}}),c.UI.registerComponent("checkbox",{setValue:function(a){if(this.$el.find("input").attr("checked",!1),a.length)for(var b=0;b<a.length;b++)this.$el.find('input[value="'+a[b]+'"]').attr("checked",!0)},getValue:function(){return this.$el.find("input[checked]").toArray().map(function(a){return a.value})}}),c.UI.registerComponent("composite",{setValue:function(a){for(var b in a)this.$el.find('[amarkal-component-name="'+b+'"]').amarkalUIcomponent().setValue(a[b])},getValue:function(){var b={};return this.$el.find(".amarkal-ui-component").each(function(){var c=a(this).attr("amarkal-component-name"),d=a(this).amarkalUIcomponent();b[c]=d.getValue()}),b}}),c.UI.registerComponent("number",{setValue:function(a){this.$el.find("input").val(a)},getValue:function(){return this.$el.find("input").val()}}),c.UI.registerComponent("radio",{setValue:function(a){this.$el.find("input").attr("checked",!1),this.$el.find('input[value="'+a+'"]').attr("checked",!0)},getValue:function(){return this.$el.find("input[checked]").val()}}),c.UI.registerComponent("select",{setValue:function(a){this.$el.find("select > option").attr("selected",!1),this.$el.find('select > option[value="'+a+'"]').attr("selected",!0)},getValue:function(){return this.$el.find("select > option[selected]").toArray().map(function(a){return a.value})[0]}}),c.UI.registerComponent("text",{setValue:function(a){this.$el.find("input").val(a)},getValue:function(){return this.$el.find("input").val()}}),c.UI.registerComponent("textarea",{setValue:function(a){this.$el.find("textarea").val(a)},getValue:function(){return this.$el.find("textarea").val()}})}(jQuery,window);